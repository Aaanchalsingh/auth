{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELLS\\\\OneDrive\\\\Desktop\\\\chat\\\\src\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Dash.css\";\nimport { database } from \"./firebase\";\nimport { push, ref, onValue } from \"firebase/database\";\nimport { Picker } from \"emoji-mart\"; // Import emoji picker\nimport \"emoji-mart/css/emoji-mart.css\"; // Import emoji picker styles\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst chatRef = ref(database, \"Chat\");\nfunction Dashboard({\n  user\n}) {\n  _s();\n  const [inputText, setInputText] = useState(\"\");\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const handleSendMessage = () => {\n    if (inputText.trim() !== \"\") {\n      const userColor = getRandomColor();\n      push(chatRef, {\n        text: inputText,\n        timestamp: Date.now(),\n        sender: \"Aanchal\",\n        backgroundColor: userColor\n      }).then(() => {\n        setInputText(\"\");\n      });\n    }\n  };\n  useEffect(() => {\n    const unsubscribe = onValue(chatRef, snapshot => {\n      const data = snapshot.val();\n      if (data) {\n        const messageArray = Object.values(data);\n        setMessages(messageArray);\n      }\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  const getRandomColor = () => {\n    return \"#\" + Math.floor(Math.random() * 16777215).toString(16);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"a1\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"input-box\",\n        id: \"messageInput\",\n        placeholder: \"Type a message...\",\n        value: inputText,\n        onChange: e => setInputText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowEmojiPicker(!showEmojiPicker),\n        children: \"Emoji\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), showEmojiPicker && /*#__PURE__*/_jsxDEV(Picker, {\n        onSelect: emoji => {\n          // Append the selected emoji to the input text\n          setInputText(prev => prev + emoji.native);\n          setShowEmojiPicker(false);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"chat-input\",\n        onClick: handleSendMessage,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"a2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-box\",\n        id: \"chatBox\",\n        children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-box\",\n          style: {\n            backgroundColor: message.backgroundColor,\n            alignSelf: message.sender === user ? \"flex-end\" : \"flex-start\"\n          },\n          children: [message.text, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timestamp\",\n            children: formatTimestamp(message.timestamp)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"pAdF8B5HNDFMVp0ez30M+eHSuyo=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","database","push","ref","onValue","Picker","jsxDEV","_jsxDEV","chatRef","Dashboard","user","_s","inputText","setInputText","showEmojiPicker","setShowEmojiPicker","messages","setMessages","handleSendMessage","trim","userColor","getRandomColor","text","timestamp","Date","now","sender","backgroundColor","then","unsubscribe","snapshot","data","val","messageArray","Object","values","Math","floor","random","toString","className","children","id","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSelect","emoji","prev","native","map","message","index","style","alignSelf","formatTimestamp","_c","$RefreshReg$"],"sources":["C:/Users/DELLS/OneDrive/Desktop/chat/src/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Dash.css\";\r\nimport { database } from \"./firebase\";\r\nimport { push, ref, onValue } from \"firebase/database\";\r\nimport { Picker } from \"emoji-mart\"; // Import emoji picker\r\nimport \"emoji-mart/css/emoji-mart.css\"; // Import emoji picker styles\r\n\r\nconst chatRef = ref(database, \"Chat\");\r\n\r\nfunction Dashboard({ user }) {\r\n  const [inputText, setInputText] = useState(\"\");\r\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  const handleSendMessage = () => {\r\n    if (inputText.trim() !== \"\") {\r\n      const userColor = getRandomColor();\r\n      push(chatRef, {\r\n        text: inputText,\r\n        timestamp: Date.now(),\r\n        sender: \"Aanchal\",\r\n        backgroundColor: userColor,\r\n      }).then(() => {\r\n        setInputText(\"\");\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onValue(chatRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const messageArray = Object.values(data);\r\n        setMessages(messageArray);\r\n      }\r\n    });\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  const getRandomColor = () => {\r\n    return \"#\" + Math.floor(Math.random() * 16777215).toString(16);\r\n  };\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <div id=\"a1\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"input-box\"\r\n          id=\"messageInput\"\r\n          placeholder=\"Type a message...\"\r\n          value={inputText}\r\n          onChange={(e) => setInputText(e.target.value)}\r\n        />\r\n\r\n        {/* Add a button to toggle the emoji picker */}\r\n        <button onClick={() => setShowEmojiPicker(!showEmojiPicker)}>\r\n          Emoji\r\n        </button>\r\n\r\n        {/* Show the emoji picker when it's toggled */}\r\n        {showEmojiPicker && (\r\n          <Picker\r\n            onSelect={(emoji) => {\r\n              // Append the selected emoji to the input text\r\n              setInputText((prev) => prev + emoji.native);\r\n              setShowEmojiPicker(false);\r\n            }}\r\n          />\r\n        )}\r\n\r\n        <button className=\"chat-input\" onClick={handleSendMessage}>\r\n          Send\r\n        </button>\r\n      </div>\r\n\r\n      <div id=\"a2\">\r\n        <div className=\"chat-box\" id=\"chatBox\">\r\n          {messages.map((message, index) => (\r\n            <div\r\n              key={index}\r\n              className=\"message-box\"\r\n              style={{\r\n                backgroundColor: message.backgroundColor,\r\n                alignSelf: message.sender === user ? \"flex-end\" : \"flex-start\",\r\n              }}\r\n            >\r\n              {message.text}\r\n              <div className=\"timestamp\">\r\n                {formatTimestamp(message.timestamp)}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}